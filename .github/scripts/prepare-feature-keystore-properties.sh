#!/bin/sh

KEYSTORE="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"
KEYSTORE_STORE_PASSPHRASE="quickero-feature"
KEYSTORE_ALIAS="quickero-feature"
KEYSTORE_ALIAS_PASSPHRASE="quickero-feature"

[ -d "$HOME"/secrets ] || mkdir "$HOME"/secrets

# Create the feature keystore
echo $KEYSTORE | base64 -di > "$HOME"/secrets/keystore.jks

# Create keystore.properties
{
    echo "storeFile=$(realpath "$HOME"/secrets/keystore.jks)"
    echo "storePassword=$KEYSTORE_STORE_PASSPHRASE"
    echo "keyAlias=$KEYSTORE_ALIAS"
    echo "keyPassword=$KEYSTORE_ALIAS_PASSPHRASE"
} >> keystore.properties
